<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Saved RAID Logs | Ronnieâ€™s RAID Extractorâ„¢ Pro</title>
  <meta name="description" content="View, search, and export saved RAID logs in Ronnieâ€™s RAID Extractorâ„¢ Pro." />
  <meta name="theme-color" content="#0b1220" />

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/img/site.webmanifest" />

  <!-- Styles -->
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .log-card {
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      background: var(--panel);
    }
    .log-card pre {
      white-space: pre-wrap;
      color: var(--ink);
      margin: 1rem 0;
    }
    .log-actions {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
    }
    #searchBox, #filterType {
      padding: .65rem;
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--panel);
      color: var(--ink);
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <a href="/" class="brand-wrap" aria-label="System & Flow homepage">
        <img src="/assets/img/logo.png" alt="System & Flow logo" />
        <span class="brand">System & Flow</span>
      </a>
      <nav>
        <ul class="nav-links">
          <li><a href="/">Home</a></li>
          <li><a href="/apps.html">Tools</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="container" style="max-width: 1000px; margin: 4rem auto; padding: 2rem;">
    <h1 style="text-align:center;">ğŸ“‚ Saved RAID Logs</h1>
    <p style="text-align:center; color: var(--muted); margin-bottom: 2rem;">
      Browse, filter, and export your RAID history.
    </p>

    <!-- Search & Filter -->
    <div style="display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:2rem;">
      <input id="searchBox" type="text" placeholder="ğŸ” Search logs..." style="flex:1;" />
      <select id="filterType">
        <option value="">Filter: All</option>
        <option value="Risk">Risks</option>
        <option value="Action">Actions</option>
        <option value="Issue">Issues</option>
        <option value="Decision">Decisions</option>
      </select>
    </div>

    <!-- Logs -->
    <div id="logsList" style="display:grid; gap:1.5rem;"></div>

    <!-- Bulk Actions -->
    <div style="margin-top:2rem; text-align:center;">
      <button id="exportAll" class="button ghost">â¬‡ Export All (JSON)</button>
      <button id="clearAll" class="button ghost" style="margin-left:1rem;">ğŸ—‘ Clear All</button>
    </div>

    <!-- Coming Soon -->
    <div style="margin-top:3rem; text-align:center; padding:1rem; border:1px dashed var(--border); border-radius:8px;">
      <h2>ğŸš€ Coming Soon</h2>
      <ul style="color:var(--muted); line-height:1.8; list-style:none; padding:0;">
        <li>ğŸ“Š RAID Analytics Dashboard (trends & insights)</li>
        <li>ğŸ¤ Team Sharing & Collaboration</li>
        <li>ğŸ”— Integrations: Jira, Notion, Excel Online</li>
      </ul>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer-min">
    <div class="container footer-container">
      <div class="foot-left">
        <img class="logo-icon" src="/assets/img/logo.png" alt="System & Flow logo icon" />
        <span class="brand">System & Flow</span>
        <span class="divider">â€¢</span>
        <span class="tagline">Smarter tools. Faster PMs.</span>
      </div>
      <div class="foot-right">
        <a href="https://www.tiktok.com/@systemnflow" target="_blank">TikTok</a>
        <a href="https://www.instagram.com/systemnflow" target="_blank">Instagram</a>
        <a href="https://www.pinterest.com/systemnflow" target="_blank">Pinterest</a>
        <a href="https://www.youtube.com/@Systemnflow" target="_blank">YouTube</a>
        <a href="https://www.linkedin.com/company/systemnflow" target="_blank">LinkedIn</a>
        <a href="https://www.facebook.com/systemnflow" target="_blank">Facebook</a>
      </div>
    </div>
    <div class="legal">Â© <span id="y"></span> System & Flowâ„¢. All rights reserved.</div>
  </footer>

  <!-- Scripts -->
  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    function renderLogs() {
      const logs = JSON.parse(localStorage.getItem("raidLogs") || "[]");
      const search = document.getElementById("searchBox").value.toLowerCase();
      const filter = document.getElementById("filterType").value;
      const logsList = document.getElementById("logsList");
      logsList.innerHTML = "";

      logs.forEach((log, index) => {
        if ((search && !log.content.toLowerCase().includes(search)) ||
            (filter && !log.content.includes(filter))) return;

        const card = document.createElement("div");
        card.className = "log-card";
        card.innerHTML = `
          <p style="color:var(--muted); font-size:0.9rem;">ğŸ“… ${new Date(log.date).toLocaleString()}</p>
          <pre>${log.content}</pre>
          <div class="log-actions">
            <button onclick="exportLog(${index}, 'csv')" class="button ghost">â¬‡ CSV</button>
            <button onclick="exportLog(${index}, 'excel')" class="button ghost">â¬‡ Excel</button>
            <button onclick="exportLog(${index}, 'pdf')" class="button ghost">â¬‡ PDF</button>
            <button onclick="exportLog(${index}, 'word')" class="button ghost">â¬‡ Word</button>
            <button onclick="exportLog(${index}, 'md')" class="button ghost">â¬‡ Markdown</button>
            <button onclick="exportLog(${index}, 'json')" class="button ghost">â¬‡ JSON</button>
            <button onclick="copyLog(${index})" class="button ghost">ğŸ“‹ Copy</button>
            <button onclick="deleteLog(${index})" class="button ghost">ğŸ—‘ Delete</button>
          </div>
        `;
        logsList.appendChild(card);
      });
    }

    function exportLog(index, format) {
      const logs = JSON.parse(localStorage.getItem("raidLogs") || "[]");
      const log = logs[index];
      let blob;
      switch (format) {
        case "csv": blob = new Blob([`"Date","Content"\n"${log.date}","${log.content.replace(/"/g,'""')}"`], { type:"text/csv" }); break;
        case "excel": blob = new Blob([log.content], { type:"application/vnd.ms-excel" }); break;
        case "pdf": blob = new Blob([log.content], { type:"application/pdf" }); break;
        case "word": blob = new Blob([log.content], { type:"application/msword" }); break;
        case "md": blob = new Blob([log.content], { type:"text/markdown" }); break;
        case "json": blob = new Blob([JSON.stringify(log,null,2)], { type:"application/json" }); break;
      }
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = `raid-log-${index+1}.${format}`;
      a.click();
    }

    function copyLog(index) {
      const logs = JSON.parse(localStorage.getItem("raidLogs") || "[]");
      navigator.clipboard.writeText(logs[index].content);
      alert("ğŸ“‹ Log copied to clipboard!");
    }

    function deleteLog(index) {
      let logs = JSON.parse(localStorage.getItem("raidLogs") || "[]");
      logs.splice(index, 1);
      localStorage.setItem("raidLogs", JSON.stringify(logs));
      renderLogs();
    }

    document.getElementById("exportAll").addEventListener("click", () => {
      const logs = JSON.parse(localStorage.getItem("raidLogs") || "[]");
      const blob = new Blob([JSON.stringify(logs,null,2)], { type:"application/json" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "all-raid-logs.json";
      a.click();
    });

    document.getElementById("clearAll").addEventListener("click", () => {
      if (confirm("âš ï¸ Clear all logs? This cannot be undone.")) {
        localStorage.removeItem("raidLogs");
        renderLogs();
      }
    });

    document.getElementById("searchBox").addEventListener("input", renderLogs);
    document.getElementById("filterType").addEventListener("change", renderLogs);

    renderLogs();
  </script>
</body>
</html>
